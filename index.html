<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>Demo123456</title>
<link rel="stylesheet" type="text/css" href="templates/css/i_1.css">
<script src="dsj/js/jquery.js"></script>
<!-- <script src="templates/js/echarts.js"></script> -->
<script type="text/javascript" src="dsj/js/echarts-all-3.js"></script>
<script src="dsj/js/echarts.js"></script>
<script src="templates/js/china.js"></script>

<link rel="stylesheet" href="js/jquery.fullPage.css">
<script src="js/jquery-ui-1.10.3.min.js"></script>
<script src="js/jquery.fullPage.min.js"></script>
<script src="templates/js/echarts.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/getscript?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM&services=&t=20171206160303"></script>
<script type="text/javascript" src="dsj/js/bmap.min.js"></script>

<script>
$(document).ready(function() {
	$.fn.fullpage({
		//slidesColor: ['#1bbc9b', '#f00', '#7BAABE', '#f90', '#ef820'],
		//anchors: ['page1', 'page2', 'page3', 'page4', 'page5'],
		afterLoad: function(anchorLink, index){
			if(index == 1){
				getEcharts();
			}
			if(index == 2){
				getEcharts2();
			}
			if(index == 3){
				getEcharts3();
			}
			if(index == 4){
				
			}
		},
		onLeave: function(index, direction){
			if(index == '2'){
				
			}
			if(index == '3'){
			
			}
			if(index == '4'){
				
			}
		}
	});
});
</script>
<script type="text/javascript">
	$('#document').ready(function(){
		 getEcharts();
	 });
</script>
</head>

<body style="background:#1B1B1B">
<div class="section">
	<div id="mainMap" style="height:100%"></div>
</div>



<script type="text/javascript">
function getEcharts(){
	 
	
    // Step:3 conifg ECharts's path, link to echarts.js from current page.
    // Step:3 为模块加载器配置echarts的路径，从当前页面链接到echarts.js，定义所需图表路径
    require.config({
        paths: {
            echarts: './dsj/js'
        }
    });
    
    // Step:4 require echarts and use it in the callback.
    // Step:4 动态加载echarts然后在回调函数中开始使用，注意保持按需加载结构定义图表路径
    require(
        [
            'echarts',
            'echarts/chart/map'
        ],
        function (ec) {

            // --- 地图 ---
            var myChart2 = ec.init(document.getElementById('mainMap'));
            myChart2.setOption({
            	 title : 
            	 {
        			text: '江西省中高级人才流入可视化平台',
        			subtext: '江西人才大智库',
        			left: 'center',
        			textStyle : {
            			color: '#fff',
            			fontSize:40
        			},
        			subtextStyle:{
        				fontSize:30
        			}
   				 },
				dataRange: {
					min : 0,//最小值
					max : 80000,//最大值
					calculable : true,
					color: ['#ff3333', 'orange', 'yellow','lime','aqua'],//颜色渐变，数值越大，颜色越靠近后面的
					textStyle:{
						color:'#fff'
					}
				},
				

				series : [
					{
						name: '全国',
						type: 'map',
						//roam: true,
						hoverable: false,
						mapType: 'china',
						itemStyle:{
							normal:{
								borderColor:'rgba(100,149,237,1)',
								borderWidth:0.5,
								areaStyle:{
									color: '#1b1b1b'
								}
							}
						},
						data:[],
						markLine : {
							smooth:true,
							symbol: ['none', 'circle'],  
							symbolSize : 1,
							itemStyle : {
								normal: {
									color:'#fff',
									borderWidth:1,
									borderColor:'rgba(30,144,255,0.5)'
								}
							},
							data : [
							],
						},
						geoCoord: {
							'上海': [121.4648,31.2891],
							'东莞': [113.8953,22.901],
							'东营': [118.7073,37.5513],
							'中山': [113.4229,22.478],
							'临汾': [111.4783,36.1615],
							'临沂': [118.3118,35.2936],
							'丹东': [124.541,40.4242],
							'丽水': [119.5642,28.1854],
							'新疆': [87.9236,43.5883],
							'佛山': [112.8955,23.1097],
							'保定': [115.0488,39.0948],
							'甘肃': [103.5901,36.3043],
							'包头': [110.3467,41.4899],
							'北京': [116.4551,40.2539],
							'北海': [109.314,21.6211],
							'江苏': [118.8062,31.9208],
							'广西': [108.479,23.1152],
							'南昌': [116.0046,28.6633],
							'南通': [121.1023,32.1625],
							'厦门': [118.1689,24.6478],
							'台州': [121.1353,28.6688],
							'安徽': [117.29,32.0581],
							'内蒙古': [111.4124,40.4901],
							'咸阳': [108.4131,34.8706],
							'黑龙江': [127.9688,45.368],
							'唐山': [118.4766,39.6826],
							'嘉兴': [120.9155,30.6354],
							'大同': [113.7854,39.8035],
							'大连': [122.2229,39.4409],
							'天津': [117.4219,39.4189],
							'山西': [112.3352,37.9413],
							'威海': [121.9482,37.1393],
							'宁波': [121.5967,29.6466],
							'宝鸡': [107.1826,34.3433],
							'宿迁': [118.5535,33.7775],
							'常州': [119.4543,31.5582],
							'广东': [113.5107,23.2196],
							'廊坊': [116.521,39.0509],
							'延安': [109.1052,36.4252],
							'张家口': [115.1477,40.8527],
							'徐州': [117.5208,34.3268],
							'德州': [116.6858,37.2107],
							'惠州': [114.6204,23.1647],
							'四川': [103.9526,30.7617],
							'扬州': [119.4653,32.8162],
							'承德': [117.5757,41.4075],
							'西藏': [91.1865,30.1465],
							'无锡': [120.3442,31.5527],
							'日照': [119.2786,35.5023],
							'云南': [102.9199,25.4663],
							'浙江': [119.5313,29.8773],
							'枣庄': [117.323,34.8926],
							'柳州': [109.3799,24.9774],
							'株洲': [113.5327,27.0319],
							'湖北': [114.3896,30.6628],
							'汕头': [117.1692,23.3405],
							'江门': [112.6318,22.1484],
							'辽宁': [123.1238,42.1216],
							'沧州': [116.8286,38.2104],
							'河源': [114.917,23.9722],
							'泉州': [118.3228,25.1147],
							'泰安': [117.0264,36.0516],
							'泰州': [120.0586,32.5525],
							'山东': [117.1582,36.8701],
							'济宁': [116.8286,35.3375],
							'海南': [110.3893,19.8516],
							'淄博': [118.0371,36.6064],
							'淮安': [118.927,33.4039],
							'深圳': [114.5435,22.5439],
							'清远': [112.9175,24.3292],
							'温州': [120.498,27.8119],
							'渭南': [109.7864,35.0299],
							'湖州': [119.8608,30.7782],
							'湘潭': [112.5439,27.7075],
							'滨州': [117.8174,37.4963],
							'潍坊': [119.0918,36.524],
							'烟台': [120.7397,37.5128],
							'玉溪': [101.9312,23.8898],
							'珠海': [113.7305,22.1155],
							'盐城': [120.2234,33.5577],
							'盘锦': [121.9482,41.0449],
							'河北': [114.4995,38.1006],
							'福建': [119.4543,25.9222],
							'秦皇岛': [119.2126,40.0232],
							'绍兴': [120.564,29.7565],
							'聊城': [115.9167,36.4032],
							'肇庆': [112.1265,23.5822],
							'舟山': [122.2559,30.2234],
							'苏州': [120.6519,31.3989],
							'莱芜': [117.6526,36.2714],
							'菏泽': [115.6201,35.2057],
							'营口': [122.4316,40.4297],
							'葫芦岛': [120.1575,40.578],
							'衡水': [115.8838,37.7161],
							'衢州': [118.6853,28.8666],
							'青海': [101.4038,36.8207],
							'陕西': [109.1162,34.2004],
							'贵州': [106.6992,26.7682],
							'连云港': [119.1248,34.552],
							'邢台': [114.8071,37.2821],
							'邯郸': [114.4775,36.535],
							'河南': [113.4668,34.6234],
							'鄂尔多斯': [108.9734,39.2487],
							'重庆': [107.7539,30.1904],
							'金华': [120.0037,29.1028],
							'铜川': [109.0393,35.1947],
							'宁夏': [106.3586,38.1775],
							'镇江': [119.4763,31.9702],
							'吉林': [125.8154,44.2584],
							'湖南': [113.0823,28.2568],
							'长治': [112.8625,36.4746],
							'阳泉': [113.4778,38.0951],
							'青岛': [120.4651,36.3373],
							'韶关': [113.7964,24.7028]
						},
						markPoint : {
							symbol:'emptyCircle',

							symbolSize : function (v){
								return 3 + v/50000
							},
							effect : {
								show: true,
								shadowBlur : 0
							},

							itemStyle:{
								normal:{
									label:{show:false}
								},
								emphasis: {
									label:{
										position:'top',
										formatter: '{c}'
									}
								}
							},
							data : [
									{name: '北京',value:102230},
									{name: '上海',value:158753},
									{name: '广东',value:250982},
									{name: '湖南',value:89560},
									{name: '湖北',value:89765},
									{name: '安徽',value:55381},
									{name: '江苏',value:48633},
									{name: '浙江',value:69532},
									{name: '福建',value:30342},
									{name: '海南',value:68783},
									{name: '广西',value:24168},
									{name: '贵州',value:12327},
									{name: '四川',value:11063},
									{name: '甘肃',value:3063},
									{name: '青海',value:1063},
									{name: '内蒙古',value:563},
									{name: '新疆',value:183},
									{name: '宁夏',value:783},
									{name: '西藏',value:113},
									{name: '黑龙江',value:663},
									{name: '吉林',value:523},
									{name: '辽宁',value:463},
									{name: '天津',value:1663},
									{name: '重庆',value:15043},
									{name: '陕西',value:3043},
									{name: '河南',value:12043},
									{name: '河北',value:4643},
									{name: '山西',value:14643},
									{name: '云南',value:8043},
									{name: '山东',value:15433},
							]
						}
					},
					{
						name: '南昌 Top10',
						type: 'map',
						mapType: 'china',
						data:[],
						markLine : {
							smooth:true,
							effect : {
								show: true,
								scaleSize: 1,
								period: 30,
								color: '#fff',
								shadowBlur: 10
							},

							itemStyle : {
								normal: {
									label:{show:false},
									borderWidth:1,
									lineStyle: {
										type: 'solid',
										shadowBlur: 10
									}
								}
							},
							data : [
									[{name:'北京'}, {name:'南昌',value:102230}],
									[{name:'上海'}, {name:'南昌',value:158753}],
									[{name:'广东'}, {name:'南昌',value:250982}],
									[{name:'湖南'}, {name:'南昌',value:89560}],
									[{name:'湖北'}, {name:'南昌',value:89765}],
									[{name:'安徽'}, {name:'南昌',value:55381}],
									[{name:'江苏'}, {name:'南昌',value:48633}],
									[{name:'浙江'}, {name:'南昌',value:69532}],
									[{name:'福建'}, {name:'南昌',value:30342}],
									[{name:'海南'}, {name:'南昌',value:68783}],
									[{name:'广西'}, {name:'南昌',value:24168}],
									[{name:'贵州'}, {name:'南昌',value:12327}],
									[{name:'四川'}, {name:'南昌',value:11063}],
									[{name:'甘肃'}, {name:'南昌',value:3063}],
									[{name:'青海'}, {name:'南昌',value:1063}],
									[{name:'内蒙古'}, {name:'南昌',value:563}],
									[{name:'新疆'}, {name:'南昌',value:183}],
									[{name:'宁夏'}, {name:'南昌',value:783}],
									[{name:'西藏'}, {name:'南昌',value:113}],
									[{name:'黑龙江'}, {name:'南昌',value:663}],
									[{name:'吉林'}, {name:'南昌',value:523}],
									[{name:'辽宁'}, {name:'南昌',value:463}],
									[{name:'天津'}, {name:'南昌',value:1663}],
									[{name:'重庆'}, {name:'南昌',value:15043}],
									[{name:'陕西'}, {name:'南昌',value:3043}],
									[{name:'河南'}, {name:'南昌',value:12043}],
									[{name:'河北'}, {name:'南昌',value:4643}],
									[{name:'山西'}, {name:'南昌',value:14643}],
									[{name:'云南'}, {name:'南昌',value:8043}],
									[{name:'山东'}, {name:'南昌',value:15433}],
							]
						},
						markPoint : {
							symbol:'emptyCircle',
							symbolSize : function (v){
								return 0.1
							},
							effect : {
								show: false,
								shadowBlur : 0
							},
							itemStyle:{
								normal:{
									label:{show:true,
										  position:'top',
										  formatter: '{b}',
										  textStyle: {
													fontSize: 18
												}
										  }
								},
								emphasis: {
									label:{show:false}
								}
							},
							data : [
									{name: '北京',value:102230},
									{name: '上海',value:158753},
									{name: '广东',value:250982},
									{name: '湖南',value:89560},
									{name: '湖北',value:89765},
									{name: '安徽',value:55381},
									{name: '江苏',value:48633},
									{name: '浙江',value:69532},
									{name: '福建',value:30342},
									{name: '海南',value:68783},
									{name: '广西',value:24168},
									{name: '贵州',value:12327},
									{name: '四川',value:11063},
									{name: '甘肃',value:3063},
									{name: '青海',value:1063},
									{name: '内蒙古',value:563},
									{name: '新疆',value:183},
									{name: '宁夏',value:783},
									{name: '西藏',value:113},
									{name: '黑龙江',value:663},
									{name: '吉林',value:523},
									{name: '辽宁',value:463},
									{name: '天津',value:1663},
									{name: '重庆',value:15043},
									{name: '陕西',value:3043},
									{name: '河南',value:12043},
									{name: '河北',value:4643},
									{name: '山西',value:14643},
									{name: '云南',value:8043},
									{name: '山东',value:15433},
							]
						}
					}
				]
        });
	});
}
    </script>


    
    <script type="text/javascript">
    	function getEcharts3(){
    		//console.log('11111111');
    		var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option = null;

// myChart.showLoading();

var uploadedDataURL = "dsj/txt.txt";
function convertData(sourceData) {
    return [].concat.apply([], $.map(sourceData, function(stop, index) {
        return {
            name: stop.stopName,
            value: [stop.jingdu, stop.weidu, Math.random() * 100, Math.random() * 100]
        };
    }));
}

var option = {
    bmap: {
        roam: true,
        mapStyle: {
            'styleJson': [{
                'featureType': 'water',
                'elementType': 'all',
                'stylers': {
                    'color': '#031628'
                }
            }, {
                'featureType': 'land',
                'elementType': 'geometry',
                'stylers': {
                    'color': '#000102'
                }
            }, {
                'featureType': 'highway',
                'elementType': 'all',
                'stylers': {
                    'visibility': 'off'
                }
            }, {
                'featureType': 'arterial',
                'elementType': 'geometry.fill',
                'stylers': {
                    'color': '#000000'
                }
            }, {
                'featureType': 'arterial',
                'elementType': 'geometry.stroke',
                'stylers': {
                    'color': '#0b3d51'
                }
            }, {
                'featureType': 'local',
                'elementType': 'geometry',
                'stylers': {
                    'color': '#000000'
                }
            }, {
                'featureType': 'railway',
                'elementType': 'geometry.fill',
                'stylers': {
                    'color': '#000000'
                }
            }, {
                'featureType': 'railway',
                'elementType': 'geometry.stroke',
                'stylers': {
                    'color': '#08304b'
                }
            }, {
                'featureType': 'subway',
                'elementType': 'geometry',
                'stylers': {
                    'lightness': -70
                }
            }, {
                'featureType': 'building',
                'elementType': 'geometry.fill',
                'stylers': {
                    'color': '#000000'
                }
            }, {
                'featureType': 'all',
                'elementType': 'labels.text.fill',
                'stylers': {
                    'color': '#857f7f'
                }
            }, {
                'featureType': 'all',
                'elementType': 'labels.text.stroke',
                'stylers': {
                    'color': '#000000'
                }
            }, {
                'featureType': 'building',
                'elementType': 'geometry',
                'stylers': {
                    'color': '#022338'
                }
            }, {
                'featureType': 'green',
                'elementType': 'geometry',
                'stylers': {
                    'color': '#062032'
                }
            }, {
                'featureType': 'boundary',
                'elementType': 'all',
                'stylers': {
                    'color': '#465b6c'
                }
            }, {
                'featureType': 'manmade',
                'elementType': 'all',
                'stylers': {
                    'color': '#022338'
                }
            }, {
                'featureType': 'label',
                'elementType': 'all',
                'stylers': {
                    'visibility': 'off'
                }
            }]
        }
    },
    tooltip: {
        trigger: 'item'
    },
    series: [{
        name: '热门出行站点',
        type: 'scatter',
        coordinateSystem: 'bmap',
        symbolSize: function(val) {
            return val[2] / 10;
        },
        label: {
            normal: {
                formatter: '{b}',
                position: 'right',
                show: false
            },
            emphasis: {
                show: true
            }
        },
        itemStyle: {
            normal: {
                color: '#00FFFF'
            }
        }
    }, {
        name: '热门出行站点',
        type: 'effectScatter',
        coordinateSystem: 'bmap',
        symbolSize: function(val) {
            return val[2] / 5;
        },
        showEffectOn: 'render',
        rippleEffect: {
            brushType: 'stroke'
        },
        hoverAnimation: true,
        label: {
            normal: {
                formatter: '{b}',
                position: 'right',
                show: true
            }
        },
        itemStyle: {
            normal: {
                color: '#00FFFF',
                shadowBlur: 10,
                shadowColor: '#333'
            }
        },
        zlevel: 1
    }]
};

$.getJSON(uploadedDataURL, function(rawData) {
    var data = convertData(rawData);
    option.series[0].data = data;
    myChart.setOption(option);
    // console.log(option);
    //获取echart中使用的bmap实例
    var map = myChart.getModel().getComponent('bmap').getBMap();
    map.disableDoubleClickZoom();
    map.centerAndZoom("南昌", 14);

});
   


if (option && typeof option === "object") {
    myChart.setOption(option, true);
}

    	}
    </script>
</body>
</html>